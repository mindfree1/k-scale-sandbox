:root{
  --bg-deep:#0c0f12;
  --bg-mid:#1a1b20;
  --steel-1:#2f261b;
  --steel-2:#4a3a29;
  --panel-1:#221c15;
  --panel-2:#15110d;
  --line:#7b5c3a;
  --line-soft:#5a442e;
  --text:#f1e4cc;
  --muted:#c2ad89;
  --gold:#cf9a46;
  --gold-dim:#8f6a34;
  --blue:#87a6c7;
  --green:#7fb47a;
  --amber:#d8b06a;
  --red:#c96a62;
  --cta:#b54b2f;
  --cta-2:#d56a39;
  --stage-bg:
    radial-gradient(1200px 500px at 20% -10%, rgba(110,182,255,.15), transparent 60%),
    radial-gradient(900px 400px at 100% 0%, rgba(103,211,154,.08), transparent 55%),
    linear-gradient(180deg, var(--bg-deep), var(--bg-mid));
  --mood-overlay: linear-gradient(180deg, rgba(12,9,6,.62), rgba(12,9,6,.76));
}

*{box-sizing:border-box}

body{
  margin:0;
  position:relative;
  min-height:100vh;
  color:var(--text);
  font-family: Georgia, "Times New Roman", serif;
  letter-spacing:.1px;
  background:linear-gradient(180deg,var(--bg-deep),var(--bg-mid));
}

body::before{
  content:"";
  position:fixed;
  inset:0;
  z-index:-2;
  background-image:var(--stage-bg);
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
  opacity:.42;
}

body::after{
  content:"";
  position:fixed;
  inset:0;
  z-index:-1;
  pointer-events:none;
  background:var(--mood-overlay);
}

body[data-mood="green"]{
  --mood-overlay:
    linear-gradient(180deg, rgba(5,10,18,.56), rgba(5,10,18,.72)),
    radial-gradient(1000px 520px at 10% 20%, rgba(103,211,154,.12), transparent 62%);
}
body[data-mood="amber"]{
  --mood-overlay:
    linear-gradient(180deg, rgba(5,10,18,.62), rgba(5,10,18,.76)),
    radial-gradient(980px 520px at 10% 20%, rgba(244,200,111,.14), transparent 60%);
}
body[data-mood="red"]{
  --mood-overlay:
    linear-gradient(180deg, rgba(5,10,18,.68), rgba(5,10,18,.82)),
    radial-gradient(1100px 580px at 12% 20%, rgba(255,123,123,.18), transparent 64%);
}

.header{
  position:sticky;
  top:0;
  z-index:30;
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  gap:12px;
  padding:12px 16px 10px;
  border-bottom:1px solid var(--line);
  background:
    linear-gradient(180deg, rgba(57,45,31,.96), rgba(26,20,14,.94));
  box-shadow:0 8px 24px rgba(0,0,0,.42), inset 0 1px 0 rgba(242,214,164,.18);
}

.title{
  font-size:19px;
  font-weight:800;
  text-transform:uppercase;
  letter-spacing:.7px;
  text-shadow:0 1px 0 rgba(0,0,0,.55);
}

.badge{
  margin-left:8px;
  border:1px solid var(--gold-dim);
  border-radius:999px;
  padding:2px 8px;
  font-size:10px;
  color:#f3d39d;
  background:rgba(207,154,70,.18);
}

.subtitle{
  margin-top:5px;
  font-size:12px;
  color:var(--muted);
}

.header-right{
  display:flex;
  align-items:center;
  gap:10px;
}

.stage-chip{
  border:1px solid var(--line);
  border-radius:999px;
  padding:6px 11px;
  font-size:11px;
  color:var(--muted);
  background:linear-gradient(180deg,rgba(40,58,83,.55),rgba(16,26,40,.55));
  white-space:nowrap;
  text-transform:uppercase;
  letter-spacing:.3px;
}
body[data-mood="green"] .stage-chip{color:var(--green);border-color:rgba(103,211,154,.45)}
body[data-mood="amber"] .stage-chip{color:var(--amber);border-color:rgba(244,200,111,.52)}
body[data-mood="red"] .stage-chip{color:var(--red);border-color:rgba(255,123,123,.52)}

.dashboard,.summary,.main,.tabs{max-width:1180px;margin:0 auto}
.dashboard{padding:12px 16px;display:grid;gap:12px}
.summary{padding:0 16px 10px}
.main{padding:12px 16px 118px}

.tabs{
  position:sticky;
  top:69px;
  z-index:28;
  display:flex;
  gap:8px;
  padding:8px 16px 0;
  background:linear-gradient(180deg,rgba(45,35,24,.9),rgba(24,18,13,.48));
}

.tab{
  flex:1;
  min-height:44px;
  border:1px solid var(--line-soft);
  border-radius:6px;
  color:var(--muted);
  background:
    linear-gradient(180deg, rgba(96,75,51,.72), rgba(40,30,22,.82));
  font-size:13px;
  font-weight:800;
  text-transform:uppercase;
  letter-spacing:.4px;
  cursor:pointer;
}

.tab.active{
  color:#fff3d8;
  border-color:rgba(207,154,70,.78);
  box-shadow:0 0 0 2px rgba(207,154,70,.22), inset 0 1px 0 rgba(255,230,184,.2);
  background:
    linear-gradient(180deg, rgba(124,96,63,.84), rgba(53,39,26,.88));
}

.panel{display:none}
.panel.active{display:block}

.kpi-grid,.grid,.grid-2,.grid2,.list{display:grid;gap:10px}
.kpi-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
.grid-2,.grid2{grid-template-columns:1fr}
.cards{display:grid;gap:10px}
.stage-strip .kpi .value{font-size:16px}
@media (min-width:900px){
  .kpi-grid{grid-template-columns:repeat(4,minmax(0,1fr))}
  .grid-2{grid-template-columns:1.2fr .8fr}
}

.card{
  position:relative;
  border:1px solid var(--line-soft);
  border-radius:8px;
  padding:12px;
  background:
    linear-gradient(180deg, rgba(57,43,30,.9), rgba(23,17,12,.92));
  box-shadow:
    0 12px 26px rgba(0,0,0,.42),
    inset 0 1px 0 rgba(242,214,164,.12);
}

.card::before{
  content:"";
  position:absolute;
  left:8px;
  right:8px;
  top:0;
  height:1px;
  background:linear-gradient(90deg, transparent, rgba(202,220,246,.26), transparent);
}

.card-header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
  margin-bottom:8px;
}
.card-title{
  font-size:14px;
  font-weight:800;
  letter-spacing:.25px;
  text-transform:uppercase;
}
.card-subtitle,.card-sub,.muted,.hint{font-size:12px;color:var(--muted)}
.card-body{display:grid;gap:8px}
.right{text-align:right}

.kpi{
  border:1px solid var(--line-soft);
  border-radius:6px;
  padding:10px;
  background:linear-gradient(180deg, rgba(75,57,39,.56), rgba(31,24,18,.68));
}
.label{
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:.45px;
  color:var(--muted);
}
.value{font-size:18px;font-weight:800}
.mono{
  font-family: ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace;
}
.small{font-size:12px}
.section-title{
  margin:6px 0 2px;
  font-size:13px;
  color:#d8e4f5;
  text-transform:uppercase;
  letter-spacing:.45px;
}

.chip,.pill{
  display:inline-flex;
  align-items:center;
  gap:6px;
  border:1px solid var(--line-soft);
  border-radius:6px;
  padding:4px 10px;
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:.3px;
  color:var(--muted);
  background:rgba(33,26,20,.6);
}
.chip.good,.pill.good{color:var(--green);border-color:rgba(103,211,154,.42)}
.chip.bad,.pill.bad{color:var(--red);border-color:rgba(255,123,123,.42)}
.chip.warn,.pill.warn{color:var(--amber);border-color:rgba(244,200,111,.5)}

.btn{
  min-height:44px;
  padding:10px 13px;
  border:1px solid var(--line-soft);
  border-radius:5px;
  color:var(--text);
  background:linear-gradient(180deg, rgba(113,87,58,.74), rgba(46,34,24,.84));
  font-weight:800;
  text-transform:uppercase;
  letter-spacing:.35px;
  cursor:pointer;
}
.btn:hover{
  border-color:rgba(240,183,93,.62);
  box-shadow:0 0 0 2px rgba(240,183,93,.14);
}
.btn:disabled{
  opacity:.45;
  cursor:not-allowed;
}
.btn-primary{
  background:linear-gradient(180deg, rgba(139,109,73,.82), rgba(59,44,30,.88));
  border-color:rgba(205,160,94,.6);
}
.btn-ghost{background:linear-gradient(180deg, rgba(73,56,40,.52), rgba(28,21,16,.6))}
.btn-danger{
  background:linear-gradient(180deg, rgba(171,75,57,.75), rgba(94,33,25,.84));
  border-color:rgba(255,123,123,.6);
}

.actions{display:flex;flex-wrap:wrap;gap:8px}
.req{display:grid;gap:4px;margin-top:6px}
.req .r{display:block;font-size:12px;line-height:1.3}
.req .bad{color:var(--red)}
.req .ok{color:var(--green)}

.actionbar{
  position:fixed;
  left:0;
  right:0;
  bottom:0;
  z-index:34;
  border-top:1px solid var(--line);
  background:linear-gradient(180deg, rgba(57,44,31,.95), rgba(23,17,12,.96));
  box-shadow:0 -12px 30px rgba(0,0,0,.35);
  padding:10px 16px;
}
#actionbar{
  max-width:1180px;
  margin:0 auto;
  display:grid;
  gap:10px;
}
.actionbar-left,.actionbar-right{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  align-items:center;
}
.actionbar-mid{display:grid;gap:4px}

#btn-end{
  border-color:rgba(255,153,96,.8);
  background:linear-gradient(180deg,var(--cta-2),var(--cta));
  color:#fff1dd;
  box-shadow:inset 0 1px 0 rgba(255,225,203,.32), 0 8px 16px rgba(0,0,0,.28);
}

.progress{
  margin-top:8px;
  width:100%;
  height:8px;
  border-radius:999px;
  border:1px solid var(--line-soft);
  background:rgba(8,14,24,.78);
  overflow:hidden;
}
.progress-bar{
  height:100%;
  background:linear-gradient(90deg,var(--gold),var(--blue));
}

.alert{
  margin-top:10px;
  border:1px solid var(--line-soft);
  border-radius:10px;
  padding:10px;
  font-size:13px;
  background:rgba(15,24,38,.7);
}
.alert.good{border-color:rgba(103,211,154,.45)}
.alert.bad{border-color:rgba(255,123,123,.45)}
.alert.warn{border-color:rgba(244,200,111,.5)}

.summary .summary-card{
  border:1px solid var(--line-soft);
  border-radius:8px;
  padding:12px;
  background:
    linear-gradient(180deg, rgba(66,49,33,.9), rgba(24,18,13,.9));
}
.summary .headline{
  font-size:15px;
  font-weight:800;
  text-transform:uppercase;
  letter-spacing:.4px;
}
.summary .delta-row{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
.summary .delta{
  border:1px solid var(--line-soft);
  border-radius:999px;
  padding:4px 10px;
  font-size:12px;
  background:rgba(14,24,38,.55);
}
.summary .delta.pos{color:var(--green);border-color:rgba(103,211,154,.4)}
.summary .delta.neg{color:var(--red);border-color:rgba(255,123,123,.4)}

.milestones .m{
  display:flex;
  align-items:center;
  gap:8px;
  padding:5px 0;
  font-size:13px;
}
.milestones .box{
  width:18px;
  height:18px;
  border-radius:6px;
  border:1px solid var(--line-soft);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  color:var(--green);
}
.milestones .m.done .txt{color:#f2f7ff}
.milestones .txt{color:var(--muted)}

.modal{position:fixed;inset:0;display:none;z-index:60}
.modal[aria-hidden="false"]{display:block}
.modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.66)}
.modal-card{
  position:relative;
  width:min(760px,calc(100% - 24px));
  margin:56px auto;
  border:1px solid var(--line);
  border-radius:8px;
  overflow:hidden;
  background:linear-gradient(180deg, rgba(63,47,32,.96), rgba(23,17,12,.96));
  box-shadow:0 18px 36px rgba(0,0,0,.5);
}
.modal-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px 14px;
  border-bottom:1px solid var(--line-soft);
}
.modal-title{
  font-weight:800;
  text-transform:uppercase;
  letter-spacing:.4px;
}
.modal-body{padding:14px}

hr{border:none;border-top:1px solid var(--line-soft);margin:10px 0}
.table{width:100%;border-collapse:collapse;font-size:12px}
.table th,.table td{padding:8px;border-bottom:1px solid var(--line-soft);text-align:left}
.table td{color:var(--muted)}
